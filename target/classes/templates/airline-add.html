<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/commons::head}"></head>
<body>
<header th:replace="~{fragments/commons::navbar}"></header>
<div class="container-fluid" id="reservation">
    <form id="reservationForm"

          th:object="${addFlightBindingModel}"
          th:method="post"
          th:action="@{/add}"
    >
        <h3><i class="fa-solid fa-plane-departure"></i>Book a flight</h3>
        <div class="description">
            <input th:field="*{flightNumber}" th:errorclass="'is-invalid alert-danger'" name="flightNumber" id="name" type="text" class="form-control" placeholder="Number flight">
            <small th:if="${#fields.hasErrors('flightNumber')}" th:errors="*{flightNumber}"></small>
            <select th:field="*{tripEnum}" th:errorclass="'is-invalid alert-danger'" id="way" class="custom-select"
                    aria-describedby="wayHelpInline">
                <option value="" selected>way</option>
                <option selected th:each="p : ${T(com.example.airline.model.enums.TripEnum).values()}" th:text="${p}" th:value="${p}">One way</option>
            </select>
            <small th:if="${#fields.hasErrors('tripEnum')}" th:errors="*{tripEnum}"></small>
        </div>

        <div class="description">
            <select th:field="*{origin}" th:errorclass="'is-invalid alert-danger'" id="from" class="custom-select"
                    aria-describedby="fromHelpInline">
                <option value="" selected>Departing From</option>
                 <option th:each="p : ${T(com.example.airline.model.enums.CountryEnum).values()}" th:text="${p}" th:value="${p}"></option>
            </select>
            <small th:if="${#fields.hasErrors('origin')}" th:errors="*{origin}"></small>
            <select th:field="*{destination}" th:errorclass="'is-invalid alert-danger'" id="to" class="custom-select"
                    aria-describedby="toHelpInline">
                <option value="" selected>Arriving at</option>
                <option th:each="p : ${T(com.example.airline.model.enums.CountryEnum).values()}" th:text="${p}" th:value="${p}"></option>
            </select>
            <small th:if="${#fields.hasErrors('destination')}" th:errors="*{destination}"></small>
            <input th:field="*{depTime}" th:errorclass="'is-invalid alert-danger'" name="time" type="datetime-local" class="form-control" placeholder="Date">
             <small th:if="${#fields.hasErrors('depTime')}" th:errors="*{depTime}"></small>
        </div>
        <div class="description"  >
            <select th:field="*{ageEnum}" th:errorclass="'is-invalid alert-danger'" class="custom-select"
                    aria-describedby="ageHelpInline">
                <option value="" selected >Age</option>
                 <option th:each="p : ${T(com.example.airline.model.enums.AgeEnum).values()}" th:text="${p}" th:value="${p}">Adult</option>
            </select>
            <small th:if="${#fields.hasErrors('ageEnum')}" th:errors="*{ageEnum}"></small>
            <select th:field="*{classEnum}" th:errorclass="'is-invalid alert-danger'" class="custom-select"
                    aria-describedby="classHelpInline">
                <option value="" selected>Travel class</option>
                <option th:each="p : ${T(com.example.airline.model.enums.ClassEnum).values()}" th:text="${p}" th:value="${p}"></option>
            </select>
            <small th:if="${#fields.hasErrors('classEnum')}" th:errors="*{classEnum}"></small>
            <div class="form-group">
                <input th:field="*{price}" th:errorclass="'is-invalid alert-danger'"  name="price" id="price" type="number"  class="form-control" placeholder="Price">
                <small th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></small>
            </div>

        </div>
        <button type="submit" class="btn btn-primary">Add Flight</button>
<!--        <button type="submit" class="btn btn-primary" th:href="@{/update-flight/{id}(id = *{id})}">Update</button>-->
    </form>
</div>
<footer th:replace="~{fragments/commons::footer}"></footer>
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
  </html>